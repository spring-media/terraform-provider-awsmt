# Resource: awsmt_playback_configuration

Use this resource to manage a MediaTailor playback configuration.

## Example Usage

You can specify the arguments inside a resource block like this:

```terraform
resource "awsmt_playback_configuration" "conf" {
  ad_decision_server_url = "https://exampleurl.com/"
  avail_suppression = {
   mode = "OFF"
  }
  bumper = {}
  cdn_configuration = {
    ad_segment_url_prefix      = "test"
    content_segment_url_prefix = "test"
  }
  dash_configuration = {
    mpd_location         = "EMT_DEFAULT"
    origin_manifest_type = "MULTI_PERIOD"
  }
  name = "test-playback-configuration-awsmt"
  manifest_processing_rules = {
    ad_marker_passthrough = {
      enabled = "false"
    }
  }
  slate_ad_url             = "https://exampleurl.com/"
  transcode_profile_name    = "profile_configured_in_your_account"
  video_content_source_url = "https://exampleurl.com/"
}
```

## Arguments Reference

All the descriptions for the fields are from the [official AWS documentation](https://docs.aws.amazon.com/sdk-for-go/api/service/mediatailor/#MediaTailor.PutPlaybackConfiguration).

The following arguments are supported:

- `ad_decision_server_url` - The URL for the ad decision server (ADS).
- `avail_suppression` - The configuration for avail suppression, also known as ad suppression.
  - `fill_policy` - Defines the policy to apply to the avail suppression mode. Can be either full (BEHIND_LIVE_EDGE mode) or partial (AFTER_LIVE_EDGE).
  - `mode` - The ad suppression mode. Can either be "OFF", "BEHIND_LIVE_EDGE" "AFTER_LIVE_EDGE".
  - `value` - Time value in HH:MM:SS format after which MediaTailor will not fill any ad breaks.
- `bumper` - The configuration for bumpers.
  - `end_url` - The URL for the end bumper asset.
  - `start_url` - The URL for the start bumper asset.
- `cdn_configuration` - The configuration for using a content delivery network (CDN) for content and ad segment management.
  - `ad_segment_url_prefix` - A non-default CDN to serve ads segments.
  - `content_segment_url_prefix` - A CDN to cache content segments.
- `configuration_aliases` - The player parameters and aliases used as dynamic variables during session initialization.
- `dash_configuration` - The configuration for DASH content.
  - `mpd_location` - Controls whether MediaTailor includes the Location tag in Dash manifest files. Can either be "DISABLED" or "EMT_DEFAULT.
  - `origin_manifest_type` - Controls whether MediaTailor handles manifest files as single-period or multi-period manifest files. Can either be "SINGLE_PERIOD" or "MULTI_PERIOD".
- `live_pre_roll_configuration` - The configuration for pre-roll ad insertion.
  - `ad_decision_server_url` - The URL for the ad decision server (ADS) for pre-roll ads.
  - `max_duration_seconds` - The maximum allowed duration for the pre-roll ad avail.
- `manifest_processing_rules` – The configuration for manifest processing rules
  - `ad_marker_passthrough` – For HLS, when set to true, MediaTailor passes through EXT-X-CUE-IN, EXT-X-CUE-OUT, and EXT-X-SPLICEPOINT-SCTE35 ad markers from the origin manifest to the MediaTailor personalized manifest.
    - `enabled` - Enables ad marker passthrough for your configuration.
- `personalization_threshold_seconds` - Defines the maximum duration of underfilled ad time (in seconds) allowed in an ad break.
- `slate_ad_url` - The URL for a high-quality video asset to transcode and use to fill in time that's not used by ads.
- `tags` - Key-value mapping of resource tags.
- `transcode_profile_name` - The name that is used to associate this playback configuration with a custom transcode profile.
- `video_content_source_url` - The URL prefix for the parent manifest for the stream, minus the asset ID.

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

- `dash_configuration` - The configuration for DASH content.
  - `manifest_endpoint_prefix` - URL generated by MediaTailor to initiate a playback session.
- `hls_configuration_manifest_endpoint_prefix` - URL generated by MediaTailor to initiate a playback session on devices that support Apple HLS.
- `log_configuration` - The Amazon CloudWatch log settings for a playback configuration.
  - `percent_enabled` - The percentage of session logs that MediaTailor sends to your Cloudwatch Logs account.
- `playback_configuration_arn` - The Amazon Resource Name (ARN) for the playback configuration.
- `playback_endpoint_prefix` - The URL that the player accesses to get a manifest from AWS Elemental MediaTailor.
- `session_initialization_endpoint_prefix` - The URL that the player uses to initialize a session that uses client-side reporting.

## Import

`awsmt_playback_configuration` resources can be imported using their name as identifier. For example:

```sh
  $ terraform import awsmt_playback_configuration.example broadcast-live-stream
```
